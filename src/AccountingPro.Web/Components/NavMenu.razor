<div class="top-row ps-3 navbar navbar-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="">
            <i class="fas fa-calculator me-2"></i>
            <strong>AccountingPro</strong>
        </a>
        <button
            title="Navigation menu"
            class="navbar-toggler"
            @onclick="ToggleNavMenu">
            <span class="navbar-toggler-icon"></span>
        </button>
    </div>
</div>
<div class="@NavMenuCssClass nav-scrollable" @onclick="ToggleNavMenu">
    <nav class="flex-column">
        <div class="nav-item px-3">
            <NavLink
                class="nav-link"
                href=""
                Match="NavLinkMatch.All">
                <i class="fas fa-tachometer-alt me-2"></i>
                Dashboard
            </NavLink>
        </div>
        <div class="nav-section">
            <div class="nav-header">
                <i class="fas fa-handshake me-2"></i>
                Sales
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="customers">
                    <i class="fas fa-users me-2"></i>
                    Customers
                </NavLink>
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="invoices">
                    <i class="fas fa-file-invoice-dollar me-2"></i>
                    Invoices
                </NavLink>
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="sales/cash/create">
                    <i class="fas fa-cash-register me-2"></i>
                    Cash Sales
                </NavLink>
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="payments">
                    <i class="fas fa-money-check-alt me-2"></i>
                    Receipts
                </NavLink>
            </div>
        </div>
        <div class="nav-section">
            <div class="nav-header">
                <i class="fas fa-shopping-cart me-2"></i>
                Purchases
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="suppliers">
                    <i class="fas fa-truck me-2"></i>
                    Suppliers
                </NavLink>
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="bills">
                    <i class="fas fa-receipt me-2"></i>
                    Bills
                </NavLink>
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="payments-made">
                    <i class="fas fa-credit-card me-2"></i>
                    Payments Made
                </NavLink>
            </div>
        </div>
        <div class="nav-section">
            <div class="nav-header">
                <i class="fas fa-box me-2"></i>
                Inventory
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="products">
                    <i class="fas fa-cube me-2"></i>
                    Products & Services
                </NavLink>
            </div>
        </div>
        <div class="nav-section">
            <div class="nav-header">
                <i class="fas fa-book me-2"></i>
                Accounting
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="accounts">
                    <i class="fas fa-list-ul me-2"></i>
                    Chart of Accounts
                </NavLink>
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="accounting/opening-balance">
                    <i class="fas fa-file-import me-2"></i>
                    Opening Balance
                </NavLink>
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="journal-entries">
                    <i class="fas fa-pen me-2"></i>
                    Journal Entries
                </NavLink>
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="bank-accounts">
                    <i class="fas fa-university me-2"></i>
                    Bank Accounts
                </NavLink>
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="trial-balance">
                    <i class="fas fa-balance-scale me-2"></i>
                    Trial Balance
                </NavLink>
            </div>
        </div>
        <div class="nav-section">
            <div class="nav-header">
                <i class="fas fa-chart-bar me-2"></i>
                Reports
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="reports">
                    <i class="fas fa-chart-line me-2"></i>
                    Financial Reports
                </NavLink>
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="dashboard-reports">
                    <i class="fas fa-chart-pie me-2"></i>
                    Analytics
                </NavLink>
            </div>
        </div>
        <div class="nav-section">
            <div class="nav-header">
                <i class="fas fa-cog me-2"></i>
                Settings
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="taxes">
                    <i class="fas fa-percentage me-2"></i>
                    Taxes
                </NavLink>
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="companies">
                    <i class="fas fa-building me-2"></i>
                    Companies
                </NavLink>
            </div>
            <div class="nav-item px-3">
                <NavLink class="nav-link" href="settings">
                    <i class="fas fa-sliders-h me-2"></i>
                    General Settings
                </NavLink>
            </div>
        </div>
    </nav>
</div>
<style>
    .navbar-brand {
        font-size: 1.5rem;
        font-weight: 700;
        color: white !important;
        text-decoration: none;
    }

    .navbar-brand i {
        color: #3498db;
    }

    .nav-section {
        margin: 20px 0;
    }

    .nav-header {
        font-size: 0.85rem;
        font-weight: 600;
        text-transform: uppercase;
        color: #bdc3c7;
        padding: 10px 0 5px 1rem;
        margin-bottom: 5px;
        border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .nav-link {
        color: #ecf0f1 !important;
        padding: 12px 1rem;
        margin: 2px 0;
        border-radius: 8px;
        transition: all 0.3s ease;
        text-decoration: none;
        display: flex;
        align-items: center;
    }

    .nav-link:hover {
        background: rgba(52, 152, 219, 0.2);
        color: white !important;
        transform: translateX(5px);
    }

    .nav-link.active {
        background: linear-gradient(135deg, #3498db 0%, #2980b9 100%);
        color: white !important;
        box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3);
    }

    .nav-link i {
        width: 20px;
        text-align: center;
        opacity: 0.8;
    }

    .nav-scrollable {
        height: calc(100vh - 3.5rem);
        overflow-y: auto;
        padding-top: 1rem;
    }

    .nav-scrollable::-webkit-scrollbar {
        width: 4px;
    }

    .nav-scrollable::-webkit-scrollbar-track {
        background: transparent;
    }

    .nav-scrollable::-webkit-scrollbar-thumb {
        background: rgba(255,255,255,0.2);
        border-radius: 2px;
    }

    .nav-scrollable::-webkit-scrollbar-thumb:hover {
        background: rgba(255,255,255,0.3);
    }

    .navbar-toggler {
        border: none;
        padding: 4px 8px;
    }

    .navbar-toggler:focus {
        box-shadow: 0 0 0 0.2rem rgba(52, 152, 219, 0.25);
    }

    /* Desktop - Always show menu */@@media (min-width: 768px) {
        .nav-scrollable {
            display: block !important;
        }

        .navbar-toggler {
            display: none;
        }
    }

    /* Mobile - Responsive behavior */@@media (max-width: 767.98px) {
        .nav-scrollable {
            height: auto;
            max-height: calc(100vh - 3.5rem);
        }

        .nav-scrollable.collapse:not(.show) {
            display: none;
        }
    }
</style>

@code
{
    private bool collapseNavMenu = false;

    private string? NavMenuCssClass => collapseNavMenu ? "collapse" : null;

    private void ToggleNavMenu()
    {
        collapseNavMenu = !collapseNavMenu;
    }
}
